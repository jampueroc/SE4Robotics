---
layout: post
title:  "Week #3443"
date:   2015-09-24 17:00:00
author: Pablo - Jorge
categories: Reporte
---

Baile de la Tortuga sin ActionLib
====================

##Introducción
El objetivo de esta actividad es poder hacer que el TurtleBot realice una serie de movimientos de forma automática, a modo de baile, en el caso de este grupo se decidió imitar los primeros pasos de un baile nacional, la cueca.

##Descripción de los pasos
El baile consistió en la siguiente serie de pasos:

1. **Paseo**: Un movimiento recto hasta un cierto punto donde Turtlebot gira en 180 grados, pudiendo volver a efctuar el camino. Si bien la cantidad de veces depende de la cueca y la pareja, actualmente solo se realiza dos veces.

1. **Vuelta completa**: Tal como su nombre dice, consiste en que Turtlebot de una vuelta completa alrededor de un punto "central". Para ello primero efectúa un giro de casi 90 grados, de forma que pueda empezar a caminar realizando un "círculo" hasta volver a su posición inicial, volviendo a girar para quedar mirando en el mismo sentido inicial.

1. **Medialuna**: Turtlebot rota en menos de 90 grados y comienza a avanzar realizando una curva con centro el punto de vista inicial. Luego de llegar a un lugar indicado, comienza a devolverse recorriendo el mismo camino pero retrocediendo. Cuando llega al punto de incio, gira 90 grados, de forma que queda listo para volver a realizar el movimiento nombrado anteriormente. De esta forma una medialuna. Tras volver al punto de inicio, gira de forma que vuelve a quedar mirando la posición anterior a este paso.

1. **Vuelta en S**: Primero gira de forma que apunta alrededor de 45 grados con respecto a la linea inicial. Luego, comienza un moviemiento parecido al de la medialuna, donde avanza en forma de curva. Cuando llega a estar de forma perpendicular al ángulo inicial cambia su sentido de rotación y sigue avanzando, formando una "S" con su camino. Cuando llega al final vuelve a mirar en la misma dirección del inicio, pero en el sentido contrario.

1. **Escobillado o floreo**: Como Turtlebot no tiene piernas, simulamos este movimiento en función del movimiento de los pies, vale decir, un avance hacia adelante con un pequeño retroceso (simulando el movimiento de pasar un paño con las piernas). De esta forma, irá avanzando hasta un número de veces. Luego, realizará el movimiento de manera contraria (mas retroceso que avance) hasta llegar el comienzo.

1. **Vuelta en S**.

1. **Zapateo**: Al igual que el anterior, como Turtlebot no puede simular el zapateo se repitió el paso anterior pero de menor duración.

1. **Vuelta en S** (final).

Tras realizar todo esto, se repite de manera infinita hasta que se envíe una señal de término.

##Dificultades.
Una de las principales dificultades fueron cálculos de velocidad y distancia que eran necesarios para que Turtlebot realizara los pasos presupuestados, esto debido a que era necesario obtener la información desde el tópico /joint_states , el cual entrega la posición relativa al inicio del Turtlebot de ambas ruedas por separado.

##Resultados.
Durante la simulación a través de Gazebo el baile se ve bastante fluído (algunos pasos pierden un poco el punto inicial debido a la inercia de movimiento existente), pero al momento de trabajarlo con Turtlebot no funcionó. Esto es debido a que el tópico /joint_states no actualiza la ubicación de las ruedas ante el movimiento del robot.

##Repositorio

https://github.com/jampueroc/TurtleCueca
